<<<<<<< HEAD
from typing import Any, Literal as L, TypeAlias

import numpy as np
import numpy.typing as npt
from numpy._typing import _64Bit, _32Bit

from typing_extensions import assert_type

FalseType: TypeAlias = L[False]
TrueType: TypeAlias = L[True]

i4: np.int32
i8: np.int64

u4: np.uint32
u8: np.uint64

b_: np.bool[bool]
b0_: np.bool[FalseType]
b1_: np.bool[TrueType]

b: bool
b0: FalseType
b1: TrueType

i: int

AR: npt.NDArray[np.int32]


assert_type(i8 << i8, np.int64)
assert_type(i8 >> i8, np.int64)
assert_type(i8 | i8, np.int64)
assert_type(i8 ^ i8, np.int64)
assert_type(i8 & i8, np.int64)

assert_type(i8 << AR, npt.NDArray[np.signedinteger[Any]])
assert_type(i8 >> AR, npt.NDArray[np.signedinteger[Any]])
assert_type(i8 | AR, npt.NDArray[np.signedinteger[Any]])
assert_type(i8 ^ AR, npt.NDArray[np.signedinteger[Any]])
assert_type(i8 & AR, npt.NDArray[np.signedinteger[Any]])

assert_type(i4 << i4, np.int32)
assert_type(i4 >> i4, np.int32)
assert_type(i4 | i4, np.int32)
assert_type(i4 ^ i4, np.int32)
assert_type(i4 & i4, np.int32)

assert_type(i8 << i4, np.signedinteger[_32Bit] | np.signedinteger[_64Bit])
assert_type(i8 >> i4, np.signedinteger[_32Bit] | np.signedinteger[_64Bit])
assert_type(i8 | i4, np.signedinteger[_32Bit] | np.signedinteger[_64Bit])
assert_type(i8 ^ i4, np.signedinteger[_32Bit] | np.signedinteger[_64Bit])
assert_type(i8 & i4, np.signedinteger[_32Bit] | np.signedinteger[_64Bit])

assert_type(i8 << b_, np.int64)
assert_type(i8 >> b_, np.int64)
assert_type(i8 | b_, np.int64)
assert_type(i8 ^ b_, np.int64)
assert_type(i8 & b_, np.int64)

assert_type(i8 << b, np.int64)
assert_type(i8 >> b, np.int64)
assert_type(i8 | b, np.int64)
assert_type(i8 ^ b, np.int64)
assert_type(i8 & b, np.int64)

assert_type(u8 << u8, np.uint64)
assert_type(u8 >> u8, np.uint64)
assert_type(u8 | u8, np.uint64)
assert_type(u8 ^ u8, np.uint64)
assert_type(u8 & u8, np.uint64)

assert_type(u8 << AR, npt.NDArray[np.signedinteger[Any]])
assert_type(u8 >> AR, npt.NDArray[np.signedinteger[Any]])
assert_type(u8 | AR, npt.NDArray[np.signedinteger[Any]])
assert_type(u8 ^ AR, npt.NDArray[np.signedinteger[Any]])
assert_type(u8 & AR, npt.NDArray[np.signedinteger[Any]])

assert_type(u4 << u4, np.uint32)
assert_type(u4 >> u4, np.uint32)
assert_type(u4 | u4, np.uint32)
assert_type(u4 ^ u4, np.uint32)
assert_type(u4 & u4, np.uint32)

assert_type(u4 << i4, np.signedinteger[Any])
assert_type(u4 >> i4, np.signedinteger[Any])
assert_type(u4 | i4, np.signedinteger[Any])
assert_type(u4 ^ i4, np.signedinteger[Any])
assert_type(u4 & i4, np.signedinteger[Any])

assert_type(u4 << i, np.signedinteger[Any])
assert_type(u4 >> i, np.signedinteger[Any])
assert_type(u4 | i, np.signedinteger[Any])
assert_type(u4 ^ i, np.signedinteger[Any])
assert_type(u4 & i, np.signedinteger[Any])

assert_type(u8 << b_, np.uint64)
assert_type(u8 >> b_, np.uint64)
assert_type(u8 | b_, np.uint64)
assert_type(u8 ^ b_, np.uint64)
assert_type(u8 & b_, np.uint64)

assert_type(u8 << b, np.uint64)
assert_type(u8 >> b, np.uint64)
assert_type(u8 | b, np.uint64)
assert_type(u8 ^ b, np.uint64)
assert_type(u8 & b, np.uint64)

assert_type(b_ << b_, np.int8)
assert_type(b_ >> b_, np.int8)
assert_type(b_ | b_, np.bool)
assert_type(b_ ^ b_, np.bool)
assert_type(b_ & b_, np.bool)

assert_type(b_ << AR, npt.NDArray[np.signedinteger[Any]])
assert_type(b_ >> AR, npt.NDArray[np.signedinteger[Any]])
assert_type(b_ | AR, npt.NDArray[np.signedinteger[Any]])
assert_type(b_ ^ AR, npt.NDArray[np.signedinteger[Any]])
assert_type(b_ & AR, npt.NDArray[np.signedinteger[Any]])

assert_type(b_ << b, np.int8)
assert_type(b_ >> b, np.int8)
assert_type(b_ | b, np.bool)
assert_type(b_ ^ b, np.bool)
assert_type(b_ & b, np.bool)

assert_type(b_ << i, np.int_)
assert_type(b_ >> i, np.int_)
assert_type(b_ | i, np.bool | np.int_)
assert_type(b_ ^ i, np.bool | np.int_)
assert_type(b_ & i, np.bool | np.int_)

assert_type(~i8, np.int64)
assert_type(~i4, np.int32)
assert_type(~u8, np.uint64)
assert_type(~u4, np.uint32)
assert_type(~b_, np.bool)
assert_type(~b0_, np.bool[TrueType])
assert_type(~b1_, np.bool[FalseType])
assert_type(~AR, npt.NDArray[np.int32])

assert_type(b_ | b0_, np.bool)
assert_type(b0_ | b_, np.bool)
assert_type(b_ | b1_, np.bool[TrueType])
assert_type(b1_ | b_, np.bool[TrueType])

assert_type(b_ ^ b0_, np.bool)
assert_type(b0_ ^ b_, np.bool)
assert_type(b_ ^ b1_, np.bool)
assert_type(b1_ ^ b_, np.bool)

assert_type(b_ & b0_, np.bool[FalseType])
assert_type(b0_ & b_, np.bool[FalseType])
assert_type(b_ & b1_, np.bool)
assert_type(b1_ & b_, np.bool)

assert_type(b0_ | b0_, np.bool[FalseType])
assert_type(b0_ | b1_, np.bool[TrueType])
assert_type(b1_ | b0_, np.bool[TrueType])
assert_type(b1_ | b1_, np.bool[TrueType])

assert_type(b0_ ^ b0_, np.bool[FalseType])
assert_type(b0_ ^ b1_, np.bool[TrueType])
assert_type(b1_ ^ b0_, np.bool[TrueType])
assert_type(b1_ ^ b1_, np.bool[FalseType])

assert_type(b0_ & b0_, np.bool[FalseType])
assert_type(b0_ & b1_, np.bool[FalseType])
assert_type(b1_ & b0_, np.bool[FalseType])
assert_type(b1_ & b1_, np.bool[TrueType])
=======
import numpy as np

i8 = np.int64(1)
u8 = np.uint64(1)

i4 = np.int32(1)
u4 = np.uint32(1)

b_ = np.bool_(1)

b = bool(1)
i = int(1)

AR = np.array([0, 1, 2], dtype=np.int32)
AR.setflags(write=False)


reveal_type(i8 << i8)  # E: {int64}
reveal_type(i8 >> i8)  # E: {int64}
reveal_type(i8 | i8)  # E: {int64}
reveal_type(i8 ^ i8)  # E: {int64}
reveal_type(i8 & i8)  # E: {int64}

reveal_type(i8 << AR)  # E: Any
reveal_type(i8 >> AR)  # E: Any
reveal_type(i8 | AR)  # E: Any
reveal_type(i8 ^ AR)  # E: Any
reveal_type(i8 & AR)  # E: Any

reveal_type(i4 << i4)  # E: {int32}
reveal_type(i4 >> i4)  # E: {int32}
reveal_type(i4 | i4)  # E: {int32}
reveal_type(i4 ^ i4)  # E: {int32}
reveal_type(i4 & i4)  # E: {int32}

reveal_type(i8 << i4)  # E: {int64}
reveal_type(i8 >> i4)  # E: {int64}
reveal_type(i8 | i4)  # E: {int64}
reveal_type(i8 ^ i4)  # E: {int64}
reveal_type(i8 & i4)  # E: {int64}

reveal_type(i8 << i)  # E: {int64}
reveal_type(i8 >> i)  # E: {int64}
reveal_type(i8 | i)  # E: {int64}
reveal_type(i8 ^ i)  # E: {int64}
reveal_type(i8 & i)  # E: {int64}

reveal_type(i8 << b_)  # E: {int64}
reveal_type(i8 >> b_)  # E: {int64}
reveal_type(i8 | b_)  # E: {int64}
reveal_type(i8 ^ b_)  # E: {int64}
reveal_type(i8 & b_)  # E: {int64}

reveal_type(i8 << b)  # E: {int64}
reveal_type(i8 >> b)  # E: {int64}
reveal_type(i8 | b)  # E: {int64}
reveal_type(i8 ^ b)  # E: {int64}
reveal_type(i8 & b)  # E: {int64}

reveal_type(u8 << u8)  # E: {uint64}
reveal_type(u8 >> u8)  # E: {uint64}
reveal_type(u8 | u8)  # E: {uint64}
reveal_type(u8 ^ u8)  # E: {uint64}
reveal_type(u8 & u8)  # E: {uint64}

reveal_type(u8 << AR)  # E: Any
reveal_type(u8 >> AR)  # E: Any
reveal_type(u8 | AR)  # E: Any
reveal_type(u8 ^ AR)  # E: Any
reveal_type(u8 & AR)  # E: Any

reveal_type(u4 << u4)  # E: {uint32}
reveal_type(u4 >> u4)  # E: {uint32}
reveal_type(u4 | u4)  # E: {uint32}
reveal_type(u4 ^ u4)  # E: {uint32}
reveal_type(u4 & u4)  # E: {uint32}

reveal_type(u4 << i4)  # E: signedinteger[Any]
reveal_type(u4 >> i4)  # E: signedinteger[Any]
reveal_type(u4 | i4)  # E: signedinteger[Any]
reveal_type(u4 ^ i4)  # E: signedinteger[Any]
reveal_type(u4 & i4)  # E: signedinteger[Any]

reveal_type(u4 << i)  # E: signedinteger[Any]
reveal_type(u4 >> i)  # E: signedinteger[Any]
reveal_type(u4 | i)  # E: signedinteger[Any]
reveal_type(u4 ^ i)  # E: signedinteger[Any]
reveal_type(u4 & i)  # E: signedinteger[Any]

reveal_type(u8 << b_)  # E: {uint64}
reveal_type(u8 >> b_)  # E: {uint64}
reveal_type(u8 | b_)  # E: {uint64}
reveal_type(u8 ^ b_)  # E: {uint64}
reveal_type(u8 & b_)  # E: {uint64}

reveal_type(u8 << b)  # E: {uint64}
reveal_type(u8 >> b)  # E: {uint64}
reveal_type(u8 | b)  # E: {uint64}
reveal_type(u8 ^ b)  # E: {uint64}
reveal_type(u8 & b)  # E: {uint64}

reveal_type(b_ << b_)  # E: {int8}
reveal_type(b_ >> b_)  # E: {int8}
reveal_type(b_ | b_)  # E: bool_
reveal_type(b_ ^ b_)  # E: bool_
reveal_type(b_ & b_)  # E: bool_

reveal_type(b_ << AR)  # E: Any
reveal_type(b_ >> AR)  # E: Any
reveal_type(b_ | AR)  # E: Any
reveal_type(b_ ^ AR)  # E: Any
reveal_type(b_ & AR)  # E: Any

reveal_type(b_ << b)  # E: {int8}
reveal_type(b_ >> b)  # E: {int8}
reveal_type(b_ | b)  # E: bool_
reveal_type(b_ ^ b)  # E: bool_
reveal_type(b_ & b)  # E: bool_

reveal_type(b_ << i)  # E: {int_}
reveal_type(b_ >> i)  # E: {int_}
reveal_type(b_ | i)  # E: {int_}
reveal_type(b_ ^ i)  # E: {int_}
reveal_type(b_ & i)  # E: {int_}

reveal_type(~i8)  # E: {int64}
reveal_type(~i4)  # E: {int32}
reveal_type(~u8)  # E: {uint64}
reveal_type(~u4)  # E: {uint32}
reveal_type(~b_)  # E: bool_
reveal_type(~AR)  # E: Any
>>>>>>> 596fb2e (Added incomplete requirements.txt)
